# Amber file information

For Amber, the starting configuration and parameters for a simulation are specified in two different files.

1. The initial input coordinates - "inpcrd".
2. The parameter and topology - "prmtop".
Here "parameter" refers to coefficients for the force field equation and "topology" refers to connectivity 
of atoms.

## Amber inpcrd information

This file contains the following information
* System title
* number of atoms
* atomic coordinates
* box information (if applicable)

More information from : http://ambermd.org/formats.html#restart

The 'coord' version of this file is generated by the PARM or LEaP programs. 
The `restrt' version is the result of energy minimization or molecular dynamics in SANDER or GIBBS and 
may contain velocity and periodic box information.

FORMAT(20A4) ITITL
  ITITL  : the title of the current run, from the AMBER
           parameter/topology file

FORMAT(I5,5E15.7) NATOM,TIME,TEMP
  NATOM  : total number of atoms in coordinate file
  TIME   : (optional, dynamics only) current time in the simulation (picoseconds)
  TEMP   : (optional, REMD only) current simulation temperature (K)

FORMAT(6F12.7) (X(i), Y(i), Z(i), i = 1,NATOM)
  X,Y,Z  : coordinates
IF dynamics
FORMAT(6F12.7) (VX(i), VY(i), VZ(i), i = 1,NATOM)
  VX,VY,VZ : velocities (units: Angstroms per 1/20.455 ps)
IF constant pressure (in 4.1, also constant volume)
FORMAT(6F12.7) BOX(1), BOX(2), BOX(3)
  BOX    : size of the periodic box
Note: in AMBER 4.1 if the EWALD option is turned on, the box angles will also be written out in the same format.


## Amber prmtop information

## File format
Amber prmtop (parameter/topology) files are separated into sections using flags with the format

%FLAG SECTION_NAME

The first section (TITLE) is one line.  From documentation - "While the title serves a primarily cosmetic 
purpose, this section must be present."

The second section (POINTERS) contains information about parameters in the rest of the sections.

%FLAG POINTERS
%FORMAT(10I8)
NATOM  NTYPES NBONH  MBONA  NTHETH MTHETA NPHIH  MPHIA  NHPARM NPARM
NNB    NRES   NBONA  NTHETA NPHIA  NUMBND NUMANG NPTRA  NATYP  NPHB
IFPERT NBPER  NGPER  NDPER  MBPER  MGPER  MDPER  IFBOX  NMXRS  IFCAP
NUMEXTRA NCOPY

More information can be found at the resources below:

* Reading and modifying Amber parameter files - http://alma.karlov.mff.cuni.cz/bio/99_Studenti/00_Dalsi/ParamFit/2013_ParamFit_AmberTools13.pdf

* Information on prmtop format from ambermd.org - http://ambermd.org/prmtop.pdf


## FF Parameter Units

This section lists the type of unit associated with flags which specify the force
field parameters (or the "energy expression"). Other flags not listed specify topology

Flag                     | Symbol            | Units                   | Special notes
 -----------------       | :--------: | :---------------------: | :-----------
 BOND_FORCE_CONSTANT     | k          | kcal/mol/Angstrom$^2    | (1/2)k(r-r_eq)
 BOND_EQUIL_VALUE        | r_eq       | Angstrom                | (1/2)k(r-r_eq)
 ANGLE_FORCE_CONSTANT    | k_theta    | kcal/mol/radian$^2$     | (1/2)k_theta(theta-theta_eq)
 ANGLE_EQUIL_VALUE       | theta_eq   | radians                 |
 DIHEDRAL_FORCE_CONSTANT | k_tor      | kcal/mol                |
 DIHEDRAL_PERIODICITY    | n          |                         |
 DIHEDRAL_PHASE          |            |                         |
 LENNARD_JONES_ACOEF     | A_ij       | Angstrom^12 kcal/mol    | Used in prmtop file only
 LENNARD_JONES_BCOEF     | B_ij       | Angstrom^6 kcal/mol     | Used in prmtop file only
 SCEE_SCALE_FACTOR       |            |                         | Scaling factor for 1-4 electrostatics
 SCNB_SCALE_FACTOR       |            |                         | Scaling factor for 1-4 onbonded interactions

